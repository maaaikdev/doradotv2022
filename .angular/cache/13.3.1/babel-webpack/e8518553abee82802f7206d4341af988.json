{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/core/projects.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/core/broker.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../shared/spinner/spinner.component\";\nimport * as i6 from \"../../pipes/safe.pipe\";\n\nfunction WithinProjectComponent_app_spinner_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-spinner\", 12);\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"text\", \"Cargando...\");\n  }\n}\n\nexport let WithinProjectComponent = /*#__PURE__*/(() => {\n  class WithinProjectComponent {\n    constructor(addProject, activateRoute, router, broker, _location) {\n      this.addProject = addProject;\n      this.activateRoute = activateRoute;\n      this.router = router;\n      this.broker = broker;\n      this._location = _location;\n      this.id = this.activateRoute.snapshot.params['id'];\n      this.slug = this.activateRoute.snapshot.params['slug'];\n      this.author = this.activateRoute.snapshot.params['author'];\n    }\n\n    ngOnInit() {\n      window.scrollTo(0, 0);\n      this.home = localStorage.getItem('home');\n      this.homeSlider = localStorage.getItem('home_slider');\n      this.broker.projectsService(this.slug).subscribe(response => {\n        this.workers = response;\n\n        if (this.workers.data[0].workers[0] == undefined) {\n          this.router.navigate(['/']);\n        } else {\n          // if(this.home == 'true' && this.homeSlider == 'false') {\n          // \tthis.changeColor();\n          // \tthis.broker.workerProjects(this.author).subscribe((response: any) => {\n          // \t\tthis.authorWorker = response;\n          // \t\tthis.broker.projectsItemsHome().subscribe((response: any) => {\n          // \t\t\tthis.projectsData = response;\n          // \t\t\tthis.projects = this.projectsData.data\n          // \t\t\tconsole.log(\"projects  home no  slider\")\n          // \t\t\tconsole.log(this.projects)\n          // \t\t\tconst refreshProject = this.projects.find((p) => p.id === parseInt(this.id));\n          // \t\t\tthis.projectAuthor = refreshProject\n          // \t\t\tconsole.log(this.projectAuthor)\n          // \t\t\tconst nextProject = this.projects[Math.floor(Math.random() * this.projects.length)];\n          // \t\t\tthis.nextProjectUp = nextProject;\t\n          // \t\t\tthis.changeColor();\n          // \t\t\tthis.addProject.spinnerActive = false;\t\t\n          // \t\t});\t\t\t\t\t\t\n          // \t});\n          //} else if(this.home == 'true' && this.homeSlider == 'true'){\n          // this.changeColor();\n          // this.broker.workerProjects(this.author).subscribe((response: any) => {\n          // \tthis.authorWorker = response;\t\n          // \tthis.broker.projectsItemsSlider().subscribe((response: any) => {\t\n          // \t\tthis.projectsDataSlider = response;\n          // \t\tthis.projects = this.projectsDataSlider.data\n          // \t\tconsole.log(\"projects  home  slider\")\n          // \t\tconsole.log(this.projects)\n          // \t\tconst refreshProject = this.projects.find((p) => p.id === parseInt(this.id));\n          // \t\tthis.projectAuthor = refreshProject\n          // \t\tconsole.log(this.projectAuthor)\n          // \t\tconst nextProject = this.projects[Math.floor(Math.random() * this.projects.length)];\n          // \t\tthis.nextProjectUp = nextProject;\n          // \t\tthis.changeColor();\n          // \t\tthis.addProject.spinnerActive = false;\t\n          // \t});\t\t\t\t\n          // });\n          //\t}else {\n          this.changeColor(); // this.broker.workerProjects(this.author).subscribe((response: any) => {\n          // \tthis.authorWorker = response;\n          // \tthis.projects = this.authorWorker?.data[0].projects;\n          // \tconsole.log(this.projects)\n          // \tconst refreshProject = this.projects.find((p) => p.project_id.id === parseInt(this.id));\n          // \tthis.projectAuthor = refreshProject.project_id;\n          // \tconsole.log(this.projectAuthor)\n          // \tlet nextProject = this.projects[Math.floor(Math.random() * this.projects.length)];\n          // \twhile (nextProject?.project_id.id == this.projectAuthor.id) {\n          // \t\tnextProject = this.projects[Math.floor(Math.random() * this.projects.length)];\n          // \t}\n          // \tthis.nextProjectUp = nextProject?.project_id;\t\t\t\t\t\t\n          // \tthis.addProject.spinnerActive = false;\t\n          // });\n\n          this.broker.newProjectsWorker(this.author).subscribe(response => {\n            this.authorWorker = response;\n            this.projects = response.data;\n            this.projects.sort(function (a, b) {\n              return a.sort_order - b.sort_order;\n            });\n            console.log(\"PROJET AUTHOR 1\", this.projects);\n            const refreshProject = this.projects.find(p => p.id === parseInt(this.id));\n            this.projectAuthor = refreshProject;\n            console.log(\"CURRENTLY\", this.projectAuthor);\n            this.getNextMember(this.projects, this.projectAuthor.sort_order); // var newArray  = this.projects.map(function(value, index, elements) {\n            // \tconsole.log(\"NEXTT pRAANMS\", [value, index, elements])\n            // \tvar next = elements[index+1];\n            // \t// do something\n            // \tconsole.log(\"NEXTT\", next)\n            // });\n            // var i = 0;\n            // var Current = this.projectAuthor.sort_order;\n            // function Next(){\n            // \tif(Current == this.projects.length - 1){\n            // \t\tconsole.log(\"IF\")\n            // \t\tCurrent = this.projectAuthor.sort_order}\n            // \telse{\n            // \t\tconsole.log(\"ELSE\")\n            // \t\tCurrent++;\n            // \t}\n            // \tconsole.log(\"NEXTTT\", this.projects[Current])\n            // \t//document.getElementById(\"textHere\").innerHTML = this.projects[Current];\n            // }\n            // var newArray  = this.projects.map(function(value, index, elements) {\n            // \tconsole.log(\"NEXTTT 0\", [value, index, elements])\n            // \tvar next = elements[index+1];\n            // \t// do something\n            // \tconsole.log(\"NEXTTT\", next)\n            // });\n            //================================= FALTA QUE PASE AL SIGUIENTE EN EL ORDEN\n            //this.projects.next(this.projectAuthor);\n            //console.log(\"NEXT\", this.projects.next(this.projectAuthor))\n            //this.projectAuthor = next;\n            //console.log(\"PROJET AUTHOR 2\", this.projectAuthor)\n            // let nextProject = this.projects[Math.floor(Math.random() * this.projects.length)];\n            // while (nextProject?.id == this.projectAuthor.id) {\n            // \tnextProject = this.projects[Math.floor(Math.random() * this.projects.length)];\n            // }\n            // this.nextProjectUp = nextProject;\n            // console.log(\"PROJET AUTHOR 3\", this.nextProjectUp)\n\n            this.addProject.spinnerActive = false;\n          }); //\t}\n        }\n      });\n      this.addProject.spinnerActive = false;\n    }\n\n    getNextMember(array, startIndex) {\n      startIndex = startIndex || 0;\n      return function () {\n        startIndex++;\n        console.log(\"NETTTT\", array[startIndex]);\n        return array[startIndex];\n      };\n    }\n\n    withinProject(proj, author, id, home, homeSLider) {\n      this.addProject.openProject(proj, author, id, home, homeSLider);\n    }\n\n    getBg(color) {\n      switch (color) {\n        case 'edicion':\n          return 'edition';\n          break;\n\n        case 'correccion-de-color':\n          return 'color';\n          break;\n\n        case 'animacion':\n          return 'animation';\n          break;\n\n        case 'online':\n          return 'online';\n          break;\n\n        case 'musica-original':\n          return 'music';\n          break;\n\n        default:\n          return '';\n      }\n    }\n\n    changeColor() {\n      var change = $(\".project-in\");\n\n      switch (this.slug) {\n        case 'edicion':\n          change.addClass(\"edition\");\n          change.removeClass(\"color\");\n          change.removeClass(\"animation\");\n          change.removeClass(\"online\");\n          change.removeClass(\"music\");\n          break;\n\n        case 'correccion-de-color':\n          change.addClass(\"color\");\n          change.removeClass(\"edition\");\n          change.removeClass(\"animation\");\n          change.removeClass(\"online\");\n          change.removeClass(\"music\");\n          break;\n\n        case 'animacion':\n          change.addClass(\"animation\");\n          change.removeClass(\"color\");\n          change.removeClass(\"edition\");\n          change.removeClass(\"online\");\n          change.removeClass(\"music\");\n          break;\n\n        case 'online':\n          change.addClass(\"online\");\n          change.removeClass(\"color\");\n          change.removeClass(\"animation\");\n          change.removeClass(\"edition\");\n          change.removeClass(\"music\");\n          break;\n\n        case 'musica-original':\n          change.addClass(\"music\");\n          change.removeClass(\"color\");\n          change.removeClass(\"animation\");\n          change.removeClass(\"online\");\n          change.removeClass(\"edition\");\n          break;\n\n        default:\n          return '';\n      }\n    }\n\n  }\n\n  WithinProjectComponent.ɵfac = function WithinProjectComponent_Factory(t) {\n    return new (t || WithinProjectComponent)(i0.ɵɵdirectiveInject(i1.ProjectsService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.BrokerService), i0.ɵɵdirectiveInject(i4.Location));\n  };\n\n  WithinProjectComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: WithinProjectComponent,\n    selectors: [[\"app-within-project\"]],\n    decls: 21,\n    vars: 19,\n    consts: [[3, \"text\", 4, \"ngIf\"], [1, \"project-in\"], [1, \"video-embed\"], [\"webkitallowfullscreen\", \"\", \"mozallowfullscreen\", \"\", \"allowfullscreen\", \"\", 3, \"src\"], [1, \"video-description\"], [3, \"ngClass\"], [1, \"project-other\", 3, \"ngClass\"], [1, \"image-proj\"], [3, \"src\", \"title\", \"alt\"], [1, \"description-proj\"], [1, \"next-project\", 3, \"ngClass\", \"click\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-arrow-right\", 3, \"ngClass\"], [3, \"text\"]],\n    template: function WithinProjectComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, WithinProjectComponent_app_spinner_0_Template, 1, 1, \"app-spinner\", 0);\n        i0.ɵɵelementStart(1, \"section\", 1)(2, \"div\", 2);\n        i0.ɵɵelement(3, \"iframe\", 3);\n        i0.ɵɵpipe(4, \"safe\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 4)(6, \"h2\", 5);\n        i0.ɵɵtext(7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"p\", 5);\n        i0.ɵɵtext(9);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(10, \"section\", 6)(11, \"div\", 7);\n        i0.ɵɵelement(12, \"img\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 9)(14, \"a\", 10);\n        i0.ɵɵlistener(\"click\", function WithinProjectComponent_Template_a_click_14_listener() {\n          return ctx.withinProject(ctx.nextProjectUp, ctx.author, ctx.nextProjectUp == null ? null : ctx.nextProjectUp.id, ctx.nextProjectUp == null ? null : ctx.nextProjectUp.home, ctx.nextProjectUp == null ? null : ctx.nextProjectUp.home_slider);\n        });\n        i0.ɵɵtext(15, \" Next project \");\n        i0.ɵɵelement(16, \"i\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"h3\", 5);\n        i0.ɵɵtext(18);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"p\", 5);\n        i0.ɵɵtext(20);\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.addProject.spinnerActive);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"src\", i0.ɵɵpipeBind2(4, 16, ctx.projectAuthor.vimeo, \"resourceUrl\"), i0.ɵɵsanitizeResourceUrl);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngClass\", (ctx.projectAuthor == null ? null : ctx.projectAuthor.services[0].service_id.slug) == \"online\" ? \"white\" : \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(ctx.projectAuthor == null ? null : ctx.projectAuthor.title);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", (ctx.projectAuthor == null ? null : ctx.projectAuthor.services[0].service_id.slug) == \"online\" ? \"white\" : \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(ctx.projectAuthor == null ? null : ctx.projectAuthor.credits);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", ctx.getBg(ctx.nextProjectUp == null ? null : ctx.nextProjectUp.services[0].service_id.slug));\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"title\", ctx.nextProjectUp == null ? null : ctx.nextProjectUp.photo_text);\n        i0.ɵɵpropertyInterpolate(\"alt\", ctx.nextProjectUp == null ? null : ctx.nextProjectUp.name);\n        i0.ɵɵproperty(\"src\", ctx.nextProjectUp == null ? null : ctx.nextProjectUp.photo.data.full_url, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngClass\", (ctx.nextProjectUp == null ? null : ctx.nextProjectUp.services[0].service_id.slug) == \"online\" ? \"white\" : \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngClass\", (ctx.nextProjectUp == null ? null : ctx.nextProjectUp.services[0].service_id.slug) == \"online\" ? \"white\" : \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", (ctx.nextProjectUp == null ? null : ctx.nextProjectUp.services[0].service_id.slug) == \"online\" ? \"white\" : \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(ctx.nextProjectUp == null ? null : ctx.nextProjectUp.title);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", (ctx.nextProjectUp == null ? null : ctx.nextProjectUp.services[0].service_id.slug) == \"online\" ? \"white\" : \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(ctx.nextProjectUp == null ? null : ctx.nextProjectUp.subtitle);\n      }\n    },\n    directives: [i4.NgIf, i5.SpinnerComponent, i4.NgClass],\n    pipes: [i6.SafePipe],\n    styles: [\"@import\\\"https://fonts.googleapis.com/css2?family=Caudex:ital,wght@0,400;0,700;1,400;1,700&family=Raleway:wght@200;300;400;500;600&display=swap\\\";.project-in[_ngcontent-%COMP%]{padding:140px 0 42px;width:100%;display:flex;flex-direction:column;justify-content:center;text-align:center}@media (max-width: 768px){.project-in[_ngcontent-%COMP%]{padding:110px 24px 32px}}.project-in[_ngcontent-%COMP%]   .icon-dorado[_ngcontent-%COMP%]{width:70px;margin:24px auto}.project-in[_ngcontent-%COMP%]   .video-embed[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:854px;height:480px}@media (max-width: 768px){.project-in[_ngcontent-%COMP%]   .video-embed[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;height:auto;transform:scale(1.2)}}@media (min-width: 1720px){.project-in[_ngcontent-%COMP%]   .video-embed[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:1280px;height:720px}}.project-in.edition[_ngcontent-%COMP%]{background-color:#d4ad38}.project-in.color[_ngcontent-%COMP%]{background-color:#4ae7e8}.project-in.music[_ngcontent-%COMP%]{background-color:#d33e43}.project-in.animation[_ngcontent-%COMP%]{background-color:#80b752}.project-in.online[_ngcontent-%COMP%]{background-color:#3e0960}.project-in[_ngcontent-%COMP%]   .video-description[_ngcontent-%COMP%]{margin:32px auto 0}.project-in[_ngcontent-%COMP%]   .video-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-size:32px;line-height:40px;font-weight:500}@media (max-width: 768px){.project-in[_ngcontent-%COMP%]   .video-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;line-height:32px}}.project-in[_ngcontent-%COMP%]   .video-description[_ngcontent-%COMP%]   h2.white[_ngcontent-%COMP%]{color:#fff}.project-in[_ngcontent-%COMP%]   .video-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-size:16px;line-height:24px;font-weight:400}.project-in[_ngcontent-%COMP%]   .video-description[_ngcontent-%COMP%]   p.white[_ngcontent-%COMP%]{color:#fff}.project-other[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;box-shadow:0 -4px 6px -2px #0000004a}@media (max-width: 768px){.project-other[_ngcontent-%COMP%]{flex-direction:column}}.project-other.edition[_ngcontent-%COMP%]{background-color:#d4ad38}.project-other.color[_ngcontent-%COMP%]{background-color:#4ae7e8}.project-other.music[_ngcontent-%COMP%]{background-color:#d33e43}.project-other.animation[_ngcontent-%COMP%]{background-color:#80b752}.project-other.online[_ngcontent-%COMP%]{background-color:#3e0960}.project-other[_ngcontent-%COMP%]   .image-proj[_ngcontent-%COMP%]{flex:1 1 25%;width:25%;overflow:hidden;display:flex;justify-content:center;background-color:#000}@media (max-width: 768px){.project-other[_ngcontent-%COMP%]   .image-proj[_ngcontent-%COMP%]{width:100%}}.project-other[_ngcontent-%COMP%]   .image-proj[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:130%;margin:0 auto}@media (max-width: 768px){.project-other[_ngcontent-%COMP%]   .image-proj[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}}@media (min-width: 1720px){.project-other[_ngcontent-%COMP%]   .image-proj[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:125%}}.project-other[_ngcontent-%COMP%]   .video-embed-add[_ngcontent-%COMP%]{flex:1 1 30%;width:30%}.project-other[_ngcontent-%COMP%]   .video-embed-add[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:854px;height:480px}@media (max-width: 768px){.project-other[_ngcontent-%COMP%]   .video-embed-add[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;height:auto;transform:scale(1.2)}}@media (min-width: 1720px){.project-other[_ngcontent-%COMP%]   .video-embed-add[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:854px;height:480px}}.project-other[_ngcontent-%COMP%]   .description-proj[_ngcontent-%COMP%]{flex:1 1 75%;width:75%;padding:32px 40px;display:flex;flex-direction:column}@media (max-width: 768px){.project-other[_ngcontent-%COMP%]   .description-proj[_ngcontent-%COMP%]{width:100%}}.project-other[_ngcontent-%COMP%]   .description-proj[_ngcontent-%COMP%]   .next-project[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-size:18px;line-height:24px;font-weight:500;color:#fff;text-decoration:none;display:flex;flex-direction:row;align-items:center;margin-bottom:32px;cursor:pointer}.project-other[_ngcontent-%COMP%]   .description-proj[_ngcontent-%COMP%]   .next-project.white[_ngcontent-%COMP%]{color:#fff}.project-other[_ngcontent-%COMP%]   .description-proj[_ngcontent-%COMP%]   .next-project[_ngcontent-%COMP%]:hover{opacity:.8}@media (max-width: 768px){.project-other[_ngcontent-%COMP%]   .description-proj[_ngcontent-%COMP%]   .next-project[_ngcontent-%COMP%]{margin-bottom:24px;font-size:14px;line-height:20px}}.project-other[_ngcontent-%COMP%]   .description-proj[_ngcontent-%COMP%]   .next-project[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;margin-left:16px}.project-other[_ngcontent-%COMP%]   .description-proj[_ngcontent-%COMP%]   .next-project[_ngcontent-%COMP%]   i.white[_ngcontent-%COMP%]{color:#fff}.project-other[_ngcontent-%COMP%]   .description-proj[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-size:52px;line-height:64px;font-weight:300}@media (max-width: 768px){.project-other[_ngcontent-%COMP%]   .description-proj[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;line-height:24px;font-weight:600}}.project-other[_ngcontent-%COMP%]   .description-proj[_ngcontent-%COMP%]   h3.white[_ngcontent-%COMP%]{color:#fff}.project-other[_ngcontent-%COMP%]   .description-proj[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-size:16px;line-height:24px}.project-other[_ngcontent-%COMP%]   .description-proj[_ngcontent-%COMP%]   p.white[_ngcontent-%COMP%]{color:#fff}@media (max-width: 768px){.project-other[_ngcontent-%COMP%]   .description-proj[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:24px}}\"]\n  });\n  return WithinProjectComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}